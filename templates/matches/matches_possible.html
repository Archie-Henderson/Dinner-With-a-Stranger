{% extends 'matches/matches_base.html' %}

{% block title %}Possible Matches{% endblock %}
{% block matches_title %}Possible Matches â€” find your new Matches!{% endblock %}
{% block new_active %}active{% endblock %}
{% block possible_active %}active{% endblock %}

{% block matches_grid %}
    {% if matches %}
        {% for match in matches %}
            {% if match.user1 == request.user %}
                {% with other_user=match.user2 %}
                    {% include 'matches/match_card.html' with 
                        other_user=other_user 
                        action_label='Match' 
                        action_url="{% url 'matches:update_match_status' match.match_id 'accepted' %}" 
                    %}
                {% endwith %}
            {% else %}
                {% with other_user=match.user1 %}
                    {% include 'matches/match_card.html' with 
                        other_user=other_user 
                        action_label='Match' 
                        action_url="{% url 'matches:update_match_status' match.match_id 'accepted' %}" 
                    %}
                {% endwith %}
            {% endif %}
        {% endfor %}
    {% else %}
        <p>No new matches to suggest.</p>
    {% endif %}
{% endblock %}
