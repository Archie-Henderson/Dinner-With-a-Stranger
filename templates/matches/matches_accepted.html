{% extends 'matches/matches_base.html' %}

{% block title %}Accepted Matches{% endblock %}
{% block matches_title %}Accepted Matches â€” already your friends!{% endblock %}
{% block match_active %}active{% endblock %}
{% block accepted_active %}active{% endblock %}

{% block matches_grid %}
    {% if matches %}
        {% for match in matches %}
            {% if match.user1 == request.user %}
                {% with other_user=match.user2 %}
                    {% include 'matches/match_card.html' with 
                        other_user=other_user 
                        action_label='Unmatch' 
                        action_url='{% url "matches:update_match_status" match.match_id "declined" %}' 
                    %}
                {% endwith %}
            {% else %}
                {% with other_user=match.user1 %}
                    {% include 'matches/match_card.html' with 
                        other_user=other_user 
                        action_label='Unmatch' 
                        action_url='{% url "matches:update_match_status" match.match_id "declined" %}' 
                    %}
                {% endwith %}
            {% endif %}
        {% endfor %}
    {% else %}
        <p>No accepted matches found.</p>
    {% endif %}
{% endblock %}
